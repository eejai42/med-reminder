@startuml
                    [*] -> Bootup
state AdvanceCurrentReminder
state Idle
state MovementDetected
state WaitForCommands
state Reboot
state WaitForMoreMovement
state CountMovement
state Bootup
state GatherReminders
state SaveReminders
state DebounceMovement
state SetExpectedReminder

AdvanceCurrentReminder --> Idle : "CurrentReminderAdvanced"
    
Idle --> DebounceMovement : "WheelMoved"
    
Idle --> WaitForCommands : "MainInputClicked"
    
MovementDetected --> Idle : "MovementHandled"
    
WaitForCommands --> SetExpectedReminder : "MainInputDoubleClicked"
    
WaitForCommands --> AdvanceCurrentReminder : "MainInputClicked"
    
WaitForCommands --> Reboot : "MainInputHeld"
    
Reboot --> Bootup : "RebootStarted"
    
WaitForMoreMovement --> CountMovement : "WheelMoved"
    
WaitForMoreMovement --> MovementDetected : "WheelNotMoved"
    
CountMovement --> WaitForMoreMovement : "MovementCounted"
    
Bootup --> GatherReminders : "BootupCompleted"
    
GatherReminders --> SaveReminders : "GatheringRemindersCompleted"
    
SaveReminders --> Idle : "RemindersSaved"
    
DebounceMovement --> CountMovement : "DebouncePassed"
    
DebounceMovement --> Idle : "DebounceFailed"
    
SetExpectedReminder --> Idle : "ExpectedReminderSet"
    
@enduml                    