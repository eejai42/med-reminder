@startuml
                    [*] -> Bootup
state AdvanceCurrentReminder
state Idle
state MovementDetected
state WaitForCommands
state Reboot
state WaitForMoreMovement
state CountMovement
state Bootup
state GatherReminders
state SaveReminders
state DebounceMovement
state SetExpectedReminder
state JohnsState

AdvanceCurrentReminder --> Idle : "CurrentReminderAdvanced"
    
Idle --> DebounceMovement : "WheelMoved"
    
Idle --> WaitForCommands : "MainInputClick"
    
MovementDetected --> Idle : "MovementHandled"
    
WaitForCommands --> SetExpectedReminder : "MainInputDoubleClick"
    
WaitForCommands --> AdvanceCurrentReminder : "MainInputClick"
    
WaitForCommands --> Reboot : "MainInputHold"
    
Reboot --> Bootup : "RebootStarted"
    
Reboot --> Reboot : ""
    
WaitForMoreMovement --> CountMovement : "WheelMoved"
    
WaitForMoreMovement --> MovementDetected : "WheelNotMoved"
    
CountMovement --> WaitForMoreMovement : "MovementCounted"
    
Bootup --> GatherReminders : "BootupComplete"
    
GatherReminders --> SaveReminders : "RemindersGather"
    
SaveReminders --> Idle : "RemindersSaved"
    
DebounceMovement --> CountMovement : "DebouncePassed"
    
DebounceMovement --> Idle : "DebounceFailed"
    
SetExpectedReminder --> Idle : "ExpectedReminderSet"
    
Reboot --> Reboot : ""
    
@enduml                    